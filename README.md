# UTS Tech Festival 2023: AI Hackathon

## Date, Time, Location

* <b>Date, Time:</b> Mon 19th Jun 2023, 10:00 am - Tue 20th Jun 2023, 6:00 pm AEST
* <b>Location:<b>  UTS Building 7 (Vicki Sara Building), Level 3, Room 10B and 10G, 67 Thomas St, Ultimo NSW 2007, Australia


## Background

One of the most common tools environmental labs use to analyse samples is a piece of equipment called a Gas Chromatograph Mass Spectrometer (GC-MS). This equipment can be divided into two sections; the gas chromatograph (GC) and the mass spectrometer (MS). The GC is used to process the sample and deliver it to the MS. The MS is used to detect and measure environmental contaminants in the samples. This project will be focusing on the MS.

The MS has three main sections that perform different roles. These are the source, the mass filter, and the detector. The source has a pair of filaments, where one acts to emit a beam of electrons and the other acts of an electron trap to receive the electrons. The sample is introduced to the source and the molecules of interest encounter the electron beam. The electron beam removes an electron from the molecule, causing it to become ionised and have a positive charge. The positively charged molecule is then pushed out of the ion source using a positive charged plate called a repeller. The ion is then focused using a series of lenses which are held at different voltages before it is passes into the mass filter.

Different molecules have different masses depending on the number of carbon, hydrogen, and other atoms in its structure. For example, benzene (a common environmental contaminant) has a molecular mass of 78, while toluene (another contaminant) has a molecular mass of 92. The role of the mass filter is to distinguish the mass of the ions by only allowing one mass to reach the detector at a time. This is performed by applying certain voltages to a set of four parallel rods. Depending on the voltages, a certain mass will be able to pass through and reach the detector.

The role of the detector is to measure how many ions of each mass pass through the mass filter. The signal determined by the detector is then used to measure how much of each contaminant is present in the sample.

  
## A look at the problem
  
As the MS analyses samples, the filaments used to generate the electron beam in the source begin to wear. Eventually the filament breaks, which prevents it from being able to generate an electron beam. When this occurs, the MS is unable to analyse samples. See an example below of a new filament and one that has failed in Figure 1. As there are two filaments, when one fails, the MS can switch to the second before analysing more samples. However, when both filaments have failed, the filaments must be replaced before the MS can operate again.
  
Filament failures are extremely disruptive to the laboratory’s operations. When a filament fails overnight, it can delay up to 12 hours of analysis time for samples. Additionally, when both filaments need to be replaced it takes at least 4 hours to replace them. This leads to delays in reporting results to our clients who are often working to strict deadlines.
  
Our current solution to this issue is to estimate the filament lifetime to 45 days. This is usually effective in preventing unexpected filament failure. However, the downside to this approach is that we often change filaments before their useful lifetime. This leads to more frequent MS downtime due to replacing the filaments, increased costs and increased waste generated by the laboratory.
  
The aim of this hackathon is to generate AI tools the laboratory can use to predict when each filament is about to fail. The most effective tool will be judged by how close it can predict the filament failure before but not after the failure. This will allow the laboratory to deliver a reliable and timely service to our clients while minimising costs and waste.
  
To help you develop your AI tool we will be providing you with real data from our laboratory. As the MS analyses samples, its performance degrades requiring the adjustment of certain parameters which is performed during a “tune”. Just like tuning a guitar to ensure it produces the correct sound, tuning of the MS ensures that it is producing the correct output. After a tune is performed, a report is generated by the MS detailing various parameters of the system. The files we have provided you detail the parameters of different MS’s in our laboratory leading up to and right before filament failures. This is the data you will use to develop your AI model.
  
There is not a parameter from the tune report that is directly diagnostic of an approaching filament failure to our knowledge. In general, higher numbers of samples and highly contaminated samples will cause the filament to fail earlier. However, this information is not stored by the software and can be difficult to track.
  
The ‘good news’ is that the quantity and nature of the samples also affects the performance of our source, requiring the adjustment of the various parameters, sometimes in a predictable way. This change in source condition is captured by the tune values which are presented to you in the data set. Therefore, there may be a correlation between certain tune parameters and filament failure which can be used to develop an AI solution.
  
  
## Understanding the parameters

Here we will provide additional detail on each of the parameters so you can understand their importance to the MS operation.

### Generic values
* Tune Date : this is the date and time when each MS tune was performed.
* System : We have several MS’s in our laboratory. This is the ID of the MS the tune data is from.
  
### Source values
A diagram of a MS source is below. In the diagram you can see a filament that is being used to emit electrons (e-) to an electron trap electrode. The electron trap electrode is also a filament but is instead being used to collect the electron beam instead of generating it. After the first filament breaks, the roles of the filaments can be swapped, so that the previous electron emitter becomes the collector, and the previous collector becomes the emitter. 
* Filament – Designates which filament is being used as the electron emitter. When the filament value switches from 1 to 2, that means that the first filament has failed after the last recorded tune for filament 1 and the second filament has now been designated the emitter. The end of the csv indicates that the second filament has also failed after the last recorded tune for filament 2.
Once the neutral analyte (blue) interacts with an electron, it becomes a positively charged molecular ion (green). These molecular ions (green) can also break apart and form fragment ions (red). Note this for later. The mass analyser is perpendicular to the electron beam, so the ions must be pushed in that direction to be analysed and detected. This is done through a repeller which is held at a positive charge. The positive ions will be repulsed by the positive repeller towards the mass filter.
* Repeller – The value is the voltage of the repeller after tuning the MS.
After being repelled towards the mass filter, the ions need to be focused into a narrow beam to be further processed by the MS effectively. This is performed by the ion focus lens which is held at a positive voltage
* Ion Focus Lens - This value is the voltage of the ion focus lens after tuning the MS.
The mass filter which will be discussed later gives of fringing fields which can affect the ions in the source. To protect against these fringing fields, the source has an entrance lens which is also held at a positive voltage. There are two components to entrance lens in the tune. The first is the entrance lens offset. This is used to calculate the entrance lens voltage in combination with other variables such that entrance lens voltage = entrance lens offset + other variables.
Entrance lens offset – This value is used in the calculation of the entrance lens voltage.
* Entrance lens - This value is the voltage of the entrance lens calculated using the entrance lens offset value after tuning the MS.
Finally, the source is maintained at a certain temperature depending on the analysis it performs. Each system will be maintained at a single temperature but there may be a difference in values between systems depending on the test.
* Temp – temperature of the source in °C of the source.


  
